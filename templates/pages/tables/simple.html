{% extends 'layouts/base.html' %}

{% block title %} Cross Math Game {% endblock title %}

{% block content %}
<div class="content-wrapper">
  <section class="content-header">
    <div class="container-fluid">
      <h1>Cross Math Game</h1>
    </div>
  </section>

  <section class="content">
    <div class="container-fluid">
      <div class="card">
        <div class="card-body">
          <a href="{% url 'create_puzzles:item-create' %}" class="btn btn-primary mb-3">Create New Item</a>

          {% include "components/datatable_block.html" with table_id="example1" %}

          {% block table_headers %}
            <th>ID</th>
            <th>Title</th>
            <th>Description</th>
            <th>Row</th>
            <th>Column</th>
            <th>Level</th>
            <th>Grid</th>
            <th>Solution</th>
            <th>Choices</th>
            <th>Created At</th>
            <th>Updated At</th>
            <th>Created By</th>
            <th>Updated By</th>
            <th>Options</th>
          {% endblock %}

          {% block table_body %}
            {% for item in items %}
              <tr>
                <td>{{ item.id }}</td>
                <td>{{ item.title }}</td>
                <td>{{ item.name }}</td>
                <td>{{ item.row }}</td>
                <td>{{ item.column }}</td>
                <td>{{ item.difficulty }}</td>
                <td class="truncate" title="{{ item.grid|escape }}">{{ item.grid|truncatechars:50 }}</td>
                <td class="truncate" title="{{ item.solution|escape }}">{{ item.solution|truncatechars:50 }}</td>
                <td class="truncate" title="{{ item.choices|escape }}">{{ item.choices|truncatechars:50 }}</td>
                <td>{{ item.created_at|date:"Y-m-d H:i" }}</td>
                <td>{{ item.updated_at|date:"Y-m-d H:i" }}</td>
                <td>{{ item.created_by }}</td>
                <td>{{ item.updated_by }}</td>
                <td>
                  <a href="{% url 'create_puzzles:item-update' item.pk %}" class="btn btn-sm btn-warning">Update</a>
                  <a href="{% url 'create_puzzles:item-confirm-delete' item.pk %}" class="btn btn-sm btn-danger">Delete</a>
                </td>
              </tr>
            {% empty %}
              <tr>
                <td colspan="14" class="text-center">No items found</td>
              </tr>
            {% endfor %}
          {% endblock %}

          {% block table_footers %}
            <th>ID</th>
            <th>Title</th>
            <th>Description</th>
            <th>Row</th>
            <th>Column</th>
            <th>Level</th>
            <th>Grid</th>
            <th>Solution</th>
            <th>Choices</th>
            <th>Created At</th>
            <th>Updated At</th>
            <th>Created By</th>
            <th>Updated By</th>
            <th>Options</th>
          {% endblock %}
        </div>
      </div>
    </div>
  </section>
</div>
{% endblock content %}
